{"version":3,"file":"index.mjs","sources":["../../src/structure/panes/userComponent/UserComponentPaneContent.tsx","../../src/structure/panes/userComponent/UserComponentPaneHeader.tsx","../../src/structure/panes/userComponent/UserComponentPane.tsx"],"sourcesContent":["import {Box} from '@sanity/ui'\nimport {type ReactNode} from 'react'\nimport {styled} from 'styled-components'\n\nimport {usePane} from '../../components'\n\ninterface UserComponentPaneContentProps {\n  children: ReactNode\n}\n\nconst Root = styled(Box)`\n  position: relative;\n`\n\nexport function UserComponentPaneContent(props: UserComponentPaneContentProps) {\n  const {children} = props\n  const {collapsed} = usePane()\n\n  return (\n    <Root hidden={collapsed} height=\"fill\" overflow=\"auto\">\n      {children}\n    </Root>\n  )\n}\n","import {ArrowLeftIcon} from '@sanity/icons'\n\nimport {Button} from '../../../ui-components'\nimport {BackLink, PaneHeader, PaneHeaderActions} from '../../components'\nimport {\n  type PaneMenuItem,\n  type PaneMenuItemGroup,\n  type StructureToolPaneActionHandler,\n} from '../../types'\nimport {useStructureTool} from '../../useStructureTool'\n\ninterface UserComponentPaneHeaderProps {\n  actionHandlers?: Record<string, StructureToolPaneActionHandler>\n  index: number\n  menuItems?: PaneMenuItem[]\n  menuItemGroups?: PaneMenuItemGroup[]\n  title: string\n}\n\nexport function UserComponentPaneHeader(props: UserComponentPaneHeaderProps) {\n  const {actionHandlers, index, menuItems, menuItemGroups, title} = props\n  const {features} = useStructureTool()\n\n  if (!menuItems?.length && !title) {\n    return null\n  }\n\n  return (\n    <PaneHeader\n      actions={\n        <PaneHeaderActions\n          menuItems={menuItems}\n          menuItemGroups={menuItemGroups}\n          actionHandlers={actionHandlers}\n        />\n      }\n      backButton={\n        features.backButton &&\n        index > 0 && (\n          <Button\n            as={BackLink}\n            data-as=\"a\"\n            icon={ArrowLeftIcon}\n            mode=\"bleed\"\n            tooltipProps={{content: 'Back'}}\n          />\n        )\n      }\n      title={title}\n    />\n  )\n}\n","import {isValidElement, useState} from 'react'\nimport {isValidElementType} from 'react-is'\nimport {useI18nText} from 'sanity'\n\nimport {Pane} from '../../components'\nimport {type StructureToolPaneActionHandler} from '../../types'\nimport {type BaseStructureToolPaneProps} from '../types'\nimport {UserComponentPaneContent} from './UserComponentPaneContent'\nimport {UserComponentPaneHeader} from './UserComponentPaneHeader'\n\ntype UserComponentPaneProps = BaseStructureToolPaneProps<'component'>\n\n/**\n * @internal\n */\nexport function UserComponentPane(props: UserComponentPaneProps) {\n  const {index, pane, paneKey, ...restProps} = props\n  const {\n    child,\n    component: UserComponent,\n    menuItems,\n    menuItemGroups,\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    type: _unused,\n    ...restPane\n  } = pane\n  const [ref, setRef] = useState<{\n    actionHandlers?: Record<string, StructureToolPaneActionHandler>\n  } | null>(null)\n  const {title = ''} = useI18nText(pane)\n\n  const {key, ...componentProps} = {...restProps, ...restPane}\n\n  return (\n    <Pane id={paneKey} minWidth={320} selected={restProps.isSelected}>\n      <UserComponentPaneHeader\n        actionHandlers={ref?.actionHandlers}\n        index={index}\n        menuItems={menuItems}\n        menuItemGroups={menuItemGroups}\n        title={title}\n      />\n\n      <UserComponentPaneContent>\n        {isValidElementType(UserComponent) && (\n          <UserComponent\n            key={key}\n            {...componentProps}\n            // NOTE: here we're utilizing the function form of refs so setting\n            // the ref causes a re-render for `UserComponentPaneHeader`\n            ref={setRef as any}\n            child={child}\n            paneKey={paneKey}\n          />\n        )}\n        {isValidElement(UserComponent) && UserComponent}\n      </UserComponentPaneContent>\n    </Pane>\n  )\n}\n"],"names":["Root","styled","Box","UserComponentPaneContent","props","$","_c","children","collapsed","usePane","t0","UserComponentPaneHeader","actionHandlers","index","menuItems","menuItemGroups","title","features","useStructureTool","length","t1","backButton","BackLink","ArrowLeftIcon","content","t2","UserComponentPane","pane","paneKey","restProps","UserComponent","child","restPane","component","t3","type","_unused","t4","ref","setRef","useState","useI18nText","undefined","componentProps","key","isValidElementType","isValidElement","t5","t6","isSelected"],"mappings":"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"}