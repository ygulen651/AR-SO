{"version":3,"file":"timing.js","sources":["../../src/_internal/cli/util/timing.ts"],"sourcesContent":["import {performance} from 'node:perf_hooks'\n\nexport interface TimeMeasurer {\n  start: (name: string) => void\n  end: (name: string) => number\n  getTimings: () => Record<string, number>\n}\n\nexport function getTimer(): TimeMeasurer {\n  const timings: Record<string, number> = {}\n  const startTimes: Record<string, number> = {}\n\n  function start(name: string): void {\n    if (typeof startTimes[name] !== 'undefined') {\n      throw new Error(`Timer \"${name}\" already started, cannot overwrite`)\n    }\n\n    startTimes[name] = performance.now()\n  }\n\n  function end(name: string): number {\n    if (typeof startTimes[name] === 'undefined') {\n      throw new Error(`Timer \"${name}\" never started, cannot end`)\n    }\n\n    timings[name] = performance.now() - startTimes[name]\n    return timings[name]\n  }\n\n  return {start, end, getTimings: () => timings}\n}\n"],"names":["getTimer","timings","startTimes","start","name","Error","performance","now","end","getTimings"],"mappings":";;AAQO,SAASA,WAAyB;AACvC,QAAMC,UAAkC,IAClCC,aAAqC,CAAC;AAE5C,WAASC,MAAMC,MAAoB;AAC7B,QAAA,OAAOF,WAAWE,IAAI,IAAM;AAC9B,YAAM,IAAIC,MAAM,UAAUD,IAAI,qCAAqC;AAG1DA,eAAAA,IAAI,IAAIE,gBAAAA,YAAYC,IAAI;AAAA,EAAA;AAGrC,WAASC,IAAIJ,MAAsB;AAC7B,QAAA,OAAOF,WAAWE,IAAI,IAAM;AAC9B,YAAM,IAAIC,MAAM,UAAUD,IAAI,6BAA6B;AAGrDA,WAAAA,QAAAA,IAAI,IAAIE,4BAAYC,QAAQL,WAAWE,IAAI,GAC5CH,QAAQG,IAAI;AAAA,EAAA;AAGd,SAAA;AAAA,IAACD;AAAAA,IAAOK;AAAAA,IAAKC,YAAYA,MAAMR;AAAAA,EAAO;AAC/C;;"}